<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hackathon Tracker 2025</title>
  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet" />

  <style>
    :root {
      /* Base palette */
      --bg: #f7f8fa;
      --surface: #ffffff;
      --text: #1c232b;
      --muted: #5d6b7a;
      --border: rgba(0, 0, 0, 0.08);
      --shadow-1: 0 6px 18px rgba(28, 35, 43, 0.06);
      --shadow-2: 0 10px 28px rgba(28, 35, 43, 0.08);
      /* Accent */
      --accent: #3b82f6; /* clear blue */
      --accent-weak: rgba(59, 130, 246, 0.12);
      --accent-strong: #1d4ed8;
      /* Radius */
      --r-sm: 10px;
      --r-md: 14px;
      --r-lg: 18px;
      --r-pill: 999px;
      /* Spacing */
      --space-1: 6px;
      --space-2: 10px;
      --space-3: 14px;
      --space-4: 18px;
      --space-5: 24px;
      --space-6: 32px;
      --space-7: 48px;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Poppins, Arial, sans-serif;
      color: var(--text);
      background: var(--bg);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    a { color: inherit; text-decoration: none; }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 var(--space-5) var(--space-6);
    }

    /* Header */
    .site-header {
      position: sticky;
      top: 0;
      z-index: 10;
      background: rgba(255,255,255,0.8);
      backdrop-filter: blur(8px);
      border-bottom: 1px solid var(--border);
    }
    .site-header-inner { display: flex; align-items: center; gap: var(--space-5); padding: var(--space-4) 0; }
    .brand { display: flex; align-items: center; gap: 10px; font-weight: 700; font-size: 18px; }
    .brand .logo { width: 28px; height: 28px; display: grid; place-items: center; color: #fff; background: var(--accent); border-radius: 6px; box-shadow: var(--shadow-1); }

    /* Nav tabs */
    .tabs { display: flex; gap: 8px; padding: 4px; background: #eef2ff; border-radius: var(--r-pill); }
    .tab { padding: 8px 14px; border-radius: var(--r-pill); color: #1e293b; font-weight: 500; }
    .tab[aria-current="page"], .tab.active { background: #fff; color: var(--accent-strong); box-shadow: 0 1px 0 rgba(0,0,0,0.04), inset 0 0 0 1px #e2e8f0; }
    .tab:hover { background: #ffffff; color: var(--accent); }

    /* Toolbar */
    .toolbar { display: flex; gap: var(--space-3); flex-wrap: wrap; align-items: center; margin-left: auto; }
    .search { position: relative; }
    .search input {
      width: 260px; max-width: 100%;
      padding: 10px 36px 10px 12px; border-radius: var(--r-pill);
      border: 1px solid var(--border); background: #fff; color: var(--text);
    }
    .search i { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); color: var(--muted); }

    select, .chip {
      padding: 10px 12px; border-radius: var(--r-pill); border: 1px solid var(--border); background: #fff;
      color: var(--text); font-weight: 500;
    }

    /* Page title */
    .page-title { margin: var(--space-6) 0 var(--space-4); display: flex; align-items: end; gap: 14px; }
    .page-title h1 { font-size: 28px; line-height: 1.2; margin: 0; font-weight: 700; }
    .page-title .meta { color: var(--muted); font-size: 14px; }

    /* Cards grid */
    .grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: var(--space-5); }
    @media (max-width: 1200px) { .grid { grid-template-columns: repeat(8, 1fr); } }
    @media (max-width: 860px) { .grid { grid-template-columns: repeat(4, 1fr); } .search input { width: 200px; } }
    @media (max-width: 540px) { .grid { grid-template-columns: repeat(2, 1fr); } .toolbar { width: 100%; } }

    .card {
      grid-column: span 4;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--r-lg);
      padding: var(--space-5);
      box-shadow: var(--shadow-1);
      display: flex; flex-direction: column; gap: 12px; min-height: 220px;
      transition: transform .15s ease, box-shadow .15s ease;
    }
    .card:hover { transform: translateY(-2px); box-shadow: var(--shadow-2); }

    .card .badge { display: inline-flex; align-items: center; gap: 8px; padding: 6px 10px; border-radius: var(--r-pill); font-size: 12px; font-weight: 600; }
    .badge.ongoing { color: #065f46; background: #d1fae5; }
    .badge.upcoming { color: #1e40af; background: #dbeafe; }
    .badge.completed { color: #6b7280; background: #f3f4f6; }

    .title { font-weight: 700; font-size: 18px; line-height: 1.4; }
    .muted { color: var(--muted); font-size: 14px; }

    .card .cta {
      margin-top: auto; display: flex; gap: 10px; flex-wrap: wrap;
    }
    .btn { display: inline-flex; align-items: center; gap: 8px; padding: 10px 14px; border-radius: var(--r-pill); border: 1px solid var(--border); background: #fff; color: var(--text); font-weight: 600; }
    .btn.primary { background: var(--accent); border-color: var(--accent); color: #fff; }
    .btn.primary:hover { background: var(--accent-strong); border-color: var(--accent-strong); }
    .btn:hover { box-shadow: 0 1px 0 rgba(0,0,0,0.04); }

    /* Footer */
    footer { color: var(--muted); font-size: 13px; text-align: center; padding: var(--space-7) 0 var(--space-6); }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container site-header-inner">
      <div class="brand">
        <span class="logo"><i class="fa-solid fa-bolt"></i></span>
        <span>Hackathon Tracker 2025</span>
      </div>

      <nav class="tabs" aria-label="Primary">
        <a href="#all" class="tab active" aria-current="page" id="tab-all"><i class="fa-regular fa-calendar-days"></i> All Hackathons</a>
        <a href="#india" class="tab" id="tab-india"><i class="fa-solid fa-flag"></i> India Hackathons</a>
      </nav>

      <div class="toolbar">
        <div class="search">
          <input id="search" type="search" placeholder="Search hackathons" aria-label="Search hackathons" />
          <i class="fa-solid fa-magnifying-glass"></i>
        </div>
        <select id="statusFilter" aria-label="Filter by status">
          <option value="">All statuses</option>
          <option value="ongoing">Ongoing</option>
          <option value="upcoming">Upcoming</option>
          <option value="completed">Completed</option>
        </select>
        <select id="regionFilter" aria-label="Filter by region">
          <option value="">All regions</option>
          <option value="India">India</option>
          <option value="Asia">Asia</option>
          <option value="Europe">Europe</option>
          <option value="North America">North America</option>
          <option value="South America">South America</option>
          <option value="Africa">Africa</option>
          <option value="Oceania">Oceania</option>
        </select>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="page-title">
      <h1 id="pageHeading">All Hackathons</h1>
      <span class="meta" id="countMeta"></span>
    </div>

    <section id="cards" class="grid" aria-live="polite"></section>
  </main>

  <footer>
    <div class="container">Built with ❤️ • UI simplified and modernized</div>
  </footer>

  <script>
    // Simple state + demo data loader. If your project fetches from data/ JSON, keep that.
    const cardsRoot = document.getElementById('cards');
    const pageHeading = document.getElementById('pageHeading');
    const countMeta = document.getElementById('countMeta');
    const tabAll = document.getElementById('tab-all');
    const tabIndia = document.getElementById('tab-india');
    const search = document.getElementById('search');
    const statusFilter = document.getElementById('statusFilter');
    const regionFilter = document.getElementById('regionFilter');

    // Example: you can replace this with your existing fetch from data files
    async function loadData() {
      try {
        const res = await fetch('./data/hackathons.json');
        if (!res.ok) throw new Error('fallback');
        return await res.json();
      } catch (_) {
        // Fallback minimal sample when offline
        return [
          { title: 'Global AI Challenge', organizer: 'OpenAI Labs', region: 'Global', status: 'upcoming', start: '2025-12-01', link: '#'},
          { title: 'India DevSprint', organizer: 'TechGuild', region: 'India', status: 'ongoing', start: '2025-10-20', link: '#'},
          { title: 'EU Green Code', organizer: 'EU Council', region: 'Europe', status: 'completed', start: '2025-08-04', link: '#'}
        ];
      }
    }

    function cardStatusBadge(status) {
      const s = (status || '').toLowerCase();
      if (s === 'ongoing') return '<span class="badge ongoing"><i class="fa-solid fa-circle"></i> Ongoing</span>';
      if (s === 'completed') return '<span class="badge completed"><i class="fa-regular fa-circle-check"></i> Completed</span>';
      return '<span class="badge upcoming"><i class="fa-regular fa-clock"></i> Upcoming</span>';
    }

    function render(list) {
      countMeta.textContent = `${list.length} shown`;
      cardsRoot.innerHTML = list.map(item => `
        <article class="card">
          <div>${cardStatusBadge(item.status)}</div>
          <div class="title">${item.title}</div>
          <div class="muted">${item.organizer || ''}</div>
          <div class="muted"><i class="fa-regular fa-calendar"></i> ${item.start || ''}</div>
          <div class="muted"><i class="fa-solid fa-location-dot"></i> ${item.region || ''}</div>
          <div class="cta">
            <a class="btn primary" href="${item.link || '#'}" target="_blank" rel="noopener noreferrer"><i class="fa-solid fa-arrow-up-right-from-square"></i> View details</a>
            <button class="btn" onclick="navigator.clipboard?.writeText('${(item.link||'#').replace(/'/g, "\'")}')"><i class="fa-regular fa-copy"></i> Copy link</button>
          </div>
        </article>
      `).join('');
    }

    function applyFilters(data, scopeIndia = false) {
      const q = (search.value || '').trim().toLowerCase();
      const st = (statusFilter.value || '').toLowerCase();
      const rg = (regionFilter.value || '').toLowerCase();

      return data.filter(d => {
        const inScope = scopeIndia ? (String(d.region||'').toLowerCase().includes('india')) : true;
        const byQ = !q || [d.title, d.organizer, d.region].some(v => String(v||'').toLowerCase().includes(q));
        const bySt = !st || String(d.status||'').toLowerCase() === st;
        const byRg = !rg || String(d.region||'').toLowerCase().includes(rg);
        return inScope && byQ && bySt && byRg;
      });
    }

    (async function init() {
      const data = await loadData();

      let scopeIndia = false;
      function setTab(india) {
        scopeIndia = india;
        tabAll.classList.toggle('active', !india);
        tabAll.setAttribute('aria-current', !india ? 'page' : 'false');
        tabIndia.classList.toggle('active', india);
        tabIndia.setAttribute('aria-current', india ? 'page' : 'false');
        pageHeading.textContent = india ? 'India Hackathons' : 'All Hackathons';
        render(applyFilters(data, scopeIndia));
      }

      // initial
      setTab(false);

      // events
      tabAll.addEventListener('click', (e) => { e.preventDefault(); setTab(false); });
      tabIndia.addEventListener('click', (e) => { e.preventDefault(); setTab(true); });
      for (const el of [search, statusFilter, regionFilter]) {
        el.addEventListener('input', () => render(applyFilters(data, scopeIndia)));
        el.addEventListener('change', () => render(applyFilters(data, scopeIndia)));
      }
    })();
  </script>
</body>
</html>
